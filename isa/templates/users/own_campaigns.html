{% extends "main/layout.html" %} {% block content %}
<div class="my-campaigns-page">
  <!-- Hero Section -->
  <div class="page-header">
    <div class="container">
      <div class="header-content">
        {% if username != 'Guest' and username %}
        <h1>{{ username }}'s Campaigns</h1>
        <p class="page-description">
          {{ _('Manage and track all your campaigns in one place. View
          statistics, edit settings, or create new campaigns.') }}
        </p>
        {% else %}
        <h1>{{ _('My Campaigns') }}</h1>
        <p class="page-description">
          {{ _('Login to view and manage your campaigns') }}
        </p>
        {% endif %}

        <div class="header-actions">
          <a
            href="{{ url_for('campaigns.CreateCampaign') }}"
            class="btn btn-primary"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
              />
              <path
                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
              />
            </svg>
            {{ _('Create New Campaign') }}
          </a>
          <a
            href="{{ url_for('campaigns.getCampaigns') }}"
            class="btn btn-secondary"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M1 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h5.5a.5.5 0 0 0 0-1H1.5a.5.5 0 0 1-.5-.5V1.5a.5.5 0 0 1 .5-.5H14a.5.5 0 0 1 .5.5v5.5a.5.5 0 0 0 1 0V1a1 1 0 0 0-1-1H1z"
              />
              <path
                d="M16 8.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L8.146 13.146a.5.5 0 0 0 .708.708L15 9.707V13.5a.5.5 0 0 0 1 0v-5z"
              />
            </svg>
            {{ _('Browse All Campaigns') }}
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container">
    {% if username != 'Guest' and username %}
    <div class="campaigns-container">
      {% if user_own_campaigns %}
      <div class="campaigns-header">
        <h2>{{ _('Your Active Campaigns') }}</h2>
        <div class="campaigns-count">
          <span class="count-number">{{ user_own_campaigns|length }}</span>
          <span class="count-label">{{ _('campaigns') }}</span>
        </div>
      </div>

      <div class="campaigns-grid">
        {% for campaign in user_own_campaigns %}
        <div class="campaign-card">
          <div class="card-header">
            <div class="campaign-number">#{{ loop.index }}</div>
            <h3 class="campaign-title">{{ campaign.campaign_name }}</h3>
          </div>

          <div class="card-body">
            {% if campaign.short_description %}
            <p class="campaign-description">{{ campaign.short_description }}</p>
            {% endif %}

            <div class="campaign-meta">
              <div class="meta-item">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-3.5-7a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm-2-3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm-2-3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1z"
                  />
                </svg>
                <span
                  >{{ _('Started:') }} {{
                  campaign.start_date.strftime('%Y-%m-%d') if
                  campaign.start_date else _('Not set') }}</span
                >
              </div>
              <div class="meta-item">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"
                  />
                </svg>
                <span
                  >{{ _('Status:') }}
                  <span class="status-badge status-active"
                    >{{ _('Active') }}</span
                  ></span
                >
              </div>
            </div>
          </div>

          <div class="card-actions">
            <a
              href="{{ url_for('campaigns.getCampaignById', id=campaign.id) }}"
              class="btn btn-primary btn-sm"
            >
              {{ _('View Campaign') }}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                />
              </svg>
            </a>
            <a
              href="{{ url_for('campaigns.updateCampaign', id=campaign.id) }}"
              class="btn btn-secondary btn-sm"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
                />
                <path
                  fill-rule="evenodd"
                  d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
                />
              </svg>
              {{ _('Edit') }}
            </a>
          </div>
        </div>
        {% endfor %}
      </div>

      <div class="campaigns-table-container">
        <div class="table-header">
          <h3>{{ _('Campaigns List') }}</h3>
          <small>{{ _('Detailed view of all your campaigns') }}</small>
        </div>
        <div class="table-responsive">
          <table class="campaigns-table">
            <thead>
              <tr>
                <th>{{ _('#') }}</th>
                <th>{{ _('Campaign Name') }}</th>
                <th>{{ _('Start Date') }}</th>
                <th>{{ _('Status') }}</th>
                <th>{{ _('Actions') }}</th>
              </tr>
            </thead>
            <tbody>
              {% for campaign in user_own_campaigns %}
              <tr>
                <td class="text-center">{{ loop.index }}</td>
                <td>
                  <a
                    href="{{ url_for('campaigns.getCampaignById', id=campaign.id) }}"
                    class="campaign-link"
                  >
                    {{ campaign.campaign_name }}
                  </a>
                  {% if campaign.short_description %}
                  <div class="campaign-subtitle">
                    {{ campaign.short_description }}
                  </div>
                  {% endif %}
                </td>
                <td>
                  {{ campaign.start_date.strftime('%Y-%m-%d') if
                  campaign.start_date else '-' }}
                </td>
                <td>
                  <span class="status-badge status-active"
                    >{{ _('Active') }}</span
                  >
                </td>
                <td>
                  <div class="action-buttons">
                    <a
                      href="{{ url_for('campaigns.getCampaignById', id=campaign.id) }}"
                      class="btn-action"
                      title="{{ _('View Campaign') }}"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="14"
                        height="14"
                        fill="currentColor"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"
                        />
                        <path
                          d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"
                        />
                      </svg>
                    </a>
                    <a
                      href="{{ url_for('campaigns.updateCampaign', id=campaign.id) }}"
                      class="btn-action"
                      title="{{ _('Edit Campaign') }}"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="14"
                        height="14"
                        fill="currentColor"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
                        />
                        <path
                          fill-rule="evenodd"
                          d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
                        />
                      </svg>
                    </a>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      {% else %}
      <div class="empty-campaigns">
        <div class="empty-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="64"
            height="64"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"
            />
            <path
              d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"
            />
          </svg>
        </div>
        <h3>{{ _('No Campaigns Yet') }}</h3>
        <p>
          {{ _('You haven\'t created any campaigns yet. Start by creating your
          first campaign!') }}
        </p>
        <a
          href="{{ url_for('campaigns.CreateCampaign') }}"
          class="btn btn-primary"
        >
          {{ _('Create Your First Campaign') }}
        </a>
      </div>
      {% endif %}
    </div>
    {% else %}
    <div class="login-required">
      <div class="login-card">
        <div class="card-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"
            />
          </svg>
        </div>
        <h3>{{ _('Login Required') }}</h3>
        <p>{{ _('Please login to view and manage your campaigns') }}</p>
        <div class="login-actions">
          <a href="{{ url_for('users.login') }}" class="btn btn-primary">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              fill="currentColor"
              viewBox="0 0 16 16"
            >
              <path
                d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"
              />
            </svg>
            {{ _('Login to ISA') }}
          </a>
          <a
            href="https://commons.wikimedia.org/wiki/Special:CreateAccount"
            target="_blank"
            rel="noopener"
            class="btn btn-secondary"
          >
            {{ _('Create Wikimedia Account') }}
          </a>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock content %} {% block styles %}
<style>
  /* My Campaigns Page */
  .my-campaigns-page {
    min-height: calc(100vh - 200px);
  }

  /* Page Header - Similar to Create Campaign Page */
  .page-header {
    background: linear-gradient(
      135deg,
      var(--primary-color),
      var(--secondary-color)
    );
    color: white;
    padding: 3rem 0;
    margin-bottom: 3rem;
  }

  .header-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .header-content h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .page-description {
    font-size: 1.125rem;
    opacity: 0.9;
    line-height: 1.6;
    margin-bottom: 2rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .header-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Campaigns Container */
  .campaigns-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .campaigns-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--gray-200);
  }

  .campaigns-header h2 {
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--gray-800);
    margin: 0;
  }

  .campaigns-count {
    display: flex;
    align-items: baseline;
    gap: 0.25rem;
  }

  .count-number {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
  }

  .count-label {
    font-size: 1rem;
    color: var(--gray-600);
    font-weight: 500;
  }

  /* Campaigns Grid */
  .campaigns-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .campaign-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border: 1px solid var(--gray-200);
    overflow: hidden;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .campaign-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
    border-color: var(--primary-color);
  }

  .card-header {
    padding: 1.5rem 1.5rem 1rem;
    border-bottom: 1px solid var(--gray-200);
    background: linear-gradient(135deg, var(--primary-light), white);
  }

  .campaign-number {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--gray-500);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .campaign-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--gray-800);
    margin: 0;
    line-height: 1.4;
  }

  .card-body {
    padding: 1.5rem;
    flex: 1;
  }

  .campaign-description {
    color: var(--gray-600);
    line-height: 1.5;
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
  }

  .campaign-meta {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--gray-600);
  }

  .meta-item svg {
    color: var(--gray-500);
    flex-shrink: 0;
  }

  .status-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .status-active {
    background: rgba(16, 185, 129, 0.1);
    color: #10b981;
  }

  .card-actions {
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--gray-200);
    background: var(--gray-50);
    display: flex;
    gap: 0.75rem;
  }

  .btn-sm {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }

  /* Campaigns Table */
  .campaigns-table-container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    padding: 2rem;
    margin-top: 2rem;
  }

  .table-header {
    margin-bottom: 1.5rem;
  }

  .table-header h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--gray-800);
    margin: 0 0 0.5rem 0;
  }

  .table-header small {
    color: var(--gray-500);
    font-size: 0.875rem;
  }

  .campaigns-table {
    width: 100%;
    border-collapse: collapse;
  }

  .campaigns-table thead {
    background: var(--primary-light);
  }

  .campaigns-table th {
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-light);
  }

  .campaigns-table td {
    padding: 1rem;
    border-bottom: 1px solid var(--gray-200);
    vertical-align: middle;
  }

  .campaigns-table tbody tr:hover {
    background-color: var(--gray-50);
  }

  .campaign-link {
    font-weight: 600;
    color: var(--gray-800);
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .campaign-link:hover {
    color: var(--primary-color);
    text-decoration: underline;
  }

  .campaign-subtitle {
    font-size: 0.875rem;
    color: var(--gray-500);
    margin-top: 0.25rem;
    line-height: 1.4;
  }

  .action-buttons {
    display: flex;
    gap: 0.5rem;
  }

  .btn-action {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: var(--gray-100);
    border: 1px solid var(--gray-300);
    border-radius: 8px;
    color: var(--gray-600);
    transition: all 0.3s ease;
    text-decoration: none;
  }

  .btn-action:hover {
    background: var(--primary-color);
    border-color: var(--primary-color);
    color: white;
  }

  .btn-action svg {
    width: 14px;
    height: 14px;
  }

  /* Empty State */
  .empty-campaigns {
    text-align: center;
    padding: 4rem 2rem;
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .empty-icon {
    margin-bottom: 1.5rem;
    color: var(--gray-400);
  }

  .empty-campaigns h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--gray-700);
    margin-bottom: 1rem;
  }

  .empty-campaigns p {
    color: var(--gray-600);
    max-width: 400px;
    margin: 0 auto 2rem;
    line-height: 1.5;
  }

  /* Login Required */
  .login-required {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 400px;
  }

  .login-card {
    background: white;
    border-radius: 16px;
    padding: 3rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    text-align: center;
    max-width: 500px;
    width: 100%;
  }

  .card-icon {
    margin-bottom: 1.5rem;
    color: var(--gray-400);
  }

  .login-card h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--gray-800);
    margin-bottom: 1rem;
  }

  .login-card p {
    color: var(--gray-600);
    margin-bottom: 2rem;
    line-height: 1.5;
  }

  .login-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    font-weight: 600;
    border-radius: 10px;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .btn-primary {
    background: linear-gradient(
      135deg,
      var(--primary-color),
      var(--secondary-color)
    );
    color: white;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(67, 97, 238, 0.3);
    color: white;
    text-decoration: none;
  }

  .btn-secondary {
    background: var(--white);
    color: var(--primary-color);
    border: 2px solid var(--primary-color);
  }

  .btn-secondary:hover {
    background: var(--primary-light);
    transform: translateY(-2px);
    color: var(--primary-color);
    text-decoration: none;
  }

  /* Responsive Design */
  @media (max-width: 992px) {
    .campaigns-grid {
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    }
  }

  @media (max-width: 768px) {
    .page-header {
      padding: 2rem 0;
    }

    .header-content h1 {
      font-size: 2rem;
    }

    .header-actions {
      flex-direction: column;
      align-items: center;
    }

    .btn {
      width: 100%;
      justify-content: center;
    }

    .campaigns-grid {
      grid-template-columns: 1fr;
    }

    .campaigns-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }

    .campaigns-table-container {
      padding: 1rem;
      overflow-x: auto;
    }

    .login-card {
      padding: 2rem;
    }

    .login-actions {
      flex-direction: column;
    }
  }

  @media (max-width: 576px) {
    .page-header {
      padding: 1.5rem 0;
    }

    .header-content h1 {
      font-size: 1.75rem;
    }

    .campaign-card {
      margin: 0 -1rem;
      border-radius: 0;
      border-left: none;
      border-right: none;
    }

    .campaigns-table th,
    .campaigns-table td {
      padding: 0.75rem 0.5rem;
      font-size: 0.875rem;
    }
  }
</style>
{% endblock styles %} {% block scripts %}
<script src="{{url_for('static', filename='js/own-campaigns.js')}}"></script>
{% endblock scripts %}
